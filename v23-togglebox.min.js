"use strict";!function(t){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.V23_ToggleBox=t()}(function(){function t(t,e){if(!t||!t.nodeType||1!==t.nodeType)return void console.log("V23 ToggleBox Error: `el` must be HTMLElement, and not "+{}.toString.call(t));if(this._createInstance(t)){this.el=t,this.instance=h.length,this.currentTemplate=null,this._handleOptions(e);for(var i in this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.items=[],this._saveItems(),this.items.length>0&&(this._handle_template(),this._handle_active_class(),this._attach_click_events(),this._change_active_tab_if_hash_in_url(),this._attach_resize_events())}}function e(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function i(t,e,i){t.addEventListener(e,i,!1)}function n(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function s(t,e){n(t,e)||(t.className+=" "+e)}function a(t,e){var i=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(n(t,e)){for(;i.indexOf(" "+e+" ")>=0;)i=i.replace(" "+e+" "," ");t.className=i.replace(/^\s+|\s+$/g,"")}}function o(){var t=window,e=document,i=e.documentElement,n=e.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||n.clientWidth,height:t.innerHeight||i.clientHeight||n.clientHeight}}function r(t,e){e.parentNode.insertBefore(t,e.nextSibling)}function l(t,e,i){c[i]&&clearTimeout(c[i]),c[i]=setTimeout(t,e)}var h=[],c={};return t.prototype={_handleOptions:function(t){this.options=t=e({},t);var i={desktopTemplate:"tab",movilTemplate:"accordion",breakpoint:768};for(var n in i)!(n in t)&&(t[n]=i[n])},_createInstance:function(t){for(var e=0;e<h.length;e++)if(h[e]===t)return console.log("V23 ToggleBox Error: el elemento id:"+t.id+" | class:"+t.className+" solo puede ser instanciado una vez."),!1;return h.push(t),!0},_saveItems:function(){for(var t=this.el.getElementsByClassName("v23-togglebox__btn"),e=0;e<t.length;e++){var i=t[e].dataset.boxid;if(i){var n=this.el.querySelector(i);n&&n.nodeType&&1===n.nodeType&&this.items.push({btn:t[e],box:n})}}},_attach_click_events:function(){for(var t=0;t<this.items.length;t++)i(this.items[t].btn,"click",this._open_tab)},_open_tab:function(t){t.preventDefault(),this._handle_active_class(t.target)},_handle_active_class:function(t){for(var e=0;e<this.items.length;e++)a(this.items[e].btn,"active"),a(this.items[e].box,"active");if(t)for(var e=0;e<this.items.length;e++)this.items[e].btn==t&&(s(t,"active"),s(this.items[e].box,"active"));else s(this.items[0].btn,"active"),s(this.items[0].box,"active")},_change_active_tab_if_hash_in_url:function(){if(window.location.hash)for(var t=window.location.hash.substring(1),e=0;e<this.items.length;e++)this.items[e].box.id==t&&this.items[e].btn.click()},_handle_template:function(){var t=this.options,e=t.breakpoint,i=this.el.querySelectorAll(".v23-togglebox__items");if("number"==typeof e)switch(o().width<=e?this.el.dataset.template=this.currentTemplate=t.movilTemplate:this.el.dataset.template=this.currentTemplate=t.desktopTemplate,this.currentTemplate){case"tab":for(var n=0;n<this.items.length;n++)i[0].appendChild(this.items[n].box);break;case"accordion":for(var n=0;n<this.items.length;n++)r(this.items[n].box,this.items[n].btn)}},_attach_resize_events:function(){var t=this,e="v23ToggleBox"+h.length;window.addEventListener("resize",function(){l(function(){t._handle_template()},100,e)},!0)}},t.create=function(e,i){return new t(e,i)},t.v=function(){console.log("1.8.23")},t});